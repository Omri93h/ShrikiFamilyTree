<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Family Tree</title>
  <script src="https://d3js.org/d3.v7.min.js"></script>
  <style>
    .node circle { fill: #fff; stroke: steelblue; stroke-width: 3px; }
    .node text { font: 12px sans-serif; }
    .link { fill: none; stroke: #ccc; stroke-width: 2px; }
  </style>
</head>
<body>
  <svg width="960" height="600"></svg>
  <script>
    // מבנה נתונים לדוגמה לעץ משפחה
    const data = {
      "name": "אדם ראשי",
      "children": [
        {
          "name": "ילד 1",
          "children": [
            { "name": "נכד 1" },
            { "name": "נכד 2" }
          ]
        },
        { "name": "ילד 2" }
      ]
    };

    const svg = d3.select("svg"),
          width = +svg.attr("width"),
          height = +svg.attr("height");

    const root = d3.hierarchy(data);
    const treeLayout = d3.tree().size([width, height - 200]);
    treeLayout(root);

    svg.selectAll('line')
      .data(root.links())
      .enter()
      .append('line')
      .attr("x1", d => d.source.x)
      .attr("y1", d => d.source.y)
      .attr("x2", d => d.target.x)
      .attr("y2", d => d.target.y)
      .attr("class", "link");

    const nodes = svg.selectAll('g')
      .data(root.descendants())
      .enter()
      .append('g')
      .attr("transform", d => `translate(${d.x},${d.y})`);

    nodes.append("circle").attr("r", 10);
    nodes.append("text")
      .attr("dy", -15)
      .attr("text-anchor", "middle")
      .text(d => d.data.name);
  </script>
</body>
</html>
