function e(){var e=document.getElementById("bloodYesFields"),t=document.getElementById("bloodNoFields");document.getElementById("bloodYes").checked?(e.style.display="block",t.style.display="none",document.getElementById("motherFirstName").setAttribute("required","required"),document.getElementById("fatherFirstName").setAttribute("required","required"),document.getElementById("spouseFirstName").removeAttribute("required"),document.getElementById("spouseLastName").removeAttribute("required")):(e.style.display="none",t.style.display="block",document.getElementById("spouseFirstName").setAttribute("required","required"),document.getElementById("spouseLastName").setAttribute("required","required"),document.getElementById("motherFirstName").removeAttribute("required"),document.getElementById("fatherFirstName").removeAttribute("required"))}function t(e,t,o){var a=document.getElementById("errorDiv");a&&a.remove(),fetch("https://script.google.com/macros/s/AKfycby6ARLboANi2OFLmRD6rWc9Q2L7OawUE93-DMEw8Zt8Nsw2bxO612QOGmQ-n2SxYd7HWQ/exec",{redirect:"follow",method:"POST",body:JSON.stringify(e),headers:{"Content-Type":"text/plain;charset=utf-8"}}).then(e=>e.json()).then(e=>{r(!1),"success"===e.status?window.location.href="success.html":(t.disabled=!1,d(o,!1),n("הייתה בעיה בשליחת הפרטים"))}).catch(e=>{console.error("Error:",e),r(!1),t.disabled=!1,d(o,!1),n("הייתה בעיה בשליחת הפרטים")})}function n(e){var t=document.getElementById("familyForm"),n=document.createElement("div");n.id="errorDiv",n.className="alert alert-danger text-center",n.innerText=e;var r=t.querySelector('button[type="submit"]');t.insertBefore(n,r)}function r(e){var t=document.getElementById("spinner");e?t.style.display="block":t.style.display="none"}function d(e,t){e.querySelectorAll("input, select, textarea, button").forEach(function(e){e.disabled=t})}document.getElementById("faceImage").addEventListener("change",function(e){var t=new FileReader;t.onload=function(){var e=document.getElementById("thumbnail");e.src=t.result,e.style.display="block"},t.readAsDataURL(e.target.files[0])}),document.getElementById("bloodYes").addEventListener("change",e),document.getElementById("bloodNo").addEventListener("change",e),document.getElementById("familyForm").addEventListener("submit",function(e){e.preventDefault();var n=e.target,o=n.querySelector('button[type="submit"]');o.disabled=!0,d(n,!0),r(!0);var a=new FormData(n),l={};a.forEach(function(e,t){l[t]=e});var i=document.getElementById("faceImage").files[0];if(i){var s=new FileReader;s.onloadend=function(){var e=s.result.split(",")[1];l.faceImage=e,l.faceImageContentType=i.type,t(l,o,n)},s.readAsDataURL(i)}else l.faceImage=null,l.faceImageContentType=null,t(l,o,n)});
//# sourceMappingURL=form.7dd717de.js.map
